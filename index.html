<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="None">
        
        
        <link rel="shortcut icon" href="img/favicon.ico">
        <title>Variorum-Docs</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/fontawesome.min.css" rel="stylesheet">
        <link href="css/brands.min.css" rel="stylesheet">
        <link href="css/solid.min.css" rel="stylesheet">
        <link href="css/v4-font-face.min.css" rel="stylesheet">
        <link href="css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body class="homepage">
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href=".">Variorum-Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="." class="nav-link active" aria-current="page">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="compile/" class="nav-link">Compilation</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" class="nav-link disabled">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="compile/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#variorum-findings" class="nav-link">Variorum Findings</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#how-variorum-works" class="nav-link">How Variorum Works ??</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#variorum-key-points" class="nav-link">Variorum: Key Points</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#useful-variorum-functions" class="nav-link">Useful Variorum Functions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#running-variorum-functions" class="nav-link">Running Variorum Functions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#step-1-navigate-to-the-example-directory" class="nav-link">Step 1: Navigate to the Example Directory</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#step-2-compile-the-example-programs" class="nav-link">Step 2: Compile the Example Programs</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#step-3-set-the-library-path" class="nav-link">Step 3: Set the Library Path</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#step-4-run-the-executable" class="nav-link">Step 4: Run the Executable</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="variorum-findings">Variorum Findings</h1>
<ul>
<li>
<p>Building Variorum requires the hwloc and jansson libraries.</p>
</li>
<li>
<p>Users of supercomputers include scientists, software engineers, and system admins with varying levels of familiarity with hardware details.</p>
</li>
<li>
<p>Accessing and managing power and performance settings on supercomputers can be difficult due to complex and vendor-specific controls.</p>
</li>
<li>
<p>Variorum provides a unified, easy-to-use interface that simplifies access to these dials.</p>
</li>
<li>
<p>Users can manage power, energy, frequency, temperature, and performance counters across different systems without needing detailed knowledge of each vendor's specific hardware.</p>
</li>
<li>
<p>Variorum provides temperature monitoring and power capping interfaces regardless of the vendor platform, and it can be integrated with higher-level system software.</p>
</li>
<li>
<p>It is implemented in C with function pointers to specific target architectures.</p>
</li>
</ul>
<h1 id="how-variorum-works">How Variorum Works ??</h1>
<p>Variorum simplifies power and performance management across different hardware vendors by utilizing the specific controls and features each vendor provides. Different vendors offer various ways to monitor and adjust parameters like power, temperature, and performance, and these controls can vary even within the same vendor across different generations of processors.</p>
<p>Variorum uses these vendor-specific mechanisms to manage performance and energy efficiency, relying on features like Dynamic Voltage and Frequency Scaling (DVFS) and power capping to dynamically adjust how processors use energy. </p>
<p>This power management started in mobile devices but evolved to include more sophisticated techniques, like Intel's Nehalem and Sandy Bridge processors, which introduced more precise control over core speed and power consumption. In modern systems, users can set power limits, and the processor automatically adjusts to stay within those limits while maintaining performance.</p>
<p>In short, Variorum helps standardize access to vendor-specific power and performance controls, allowing better management of energy use and efficiency in processors, especially in large-scale computing environments.</p>
<h1 id="variorum-key-points">Variorum: Key Points</h1>
<ol>
<li>
<p><strong>Vendor-neutral</strong>: Works with different hardware architectures and doesnâ€™t require users to learn vendor-specific details.</p>
</li>
<li>
<p><strong>User-friendly</strong>: Variorum's API provides a portable way for users to access dials that measure and control hardware.</p>
</li>
<li>
<p><strong>Extensible</strong>: Variorum can adapt to new performance features in an HPC system and deprecate old features.</p>
</li>
<li>
<p><strong>Exascale support</strong>: Variorum supports exascale supercomputers.</p>
</li>
</ol>
<h1 id="useful-variorum-functions">Useful Variorum Functions</h1>
<ol>
<li><strong>variorum_print_verbose_power</strong>: Provides detailed power information.</li>
<li><strong>variorum_print_verbose_thermals</strong>: Provides detailed thermal information.</li>
<li><strong>variorum_print_verbose_frequency</strong>: Provides detailed frequency information.</li>
<li><strong>variorum_print_topology</strong>: Displays system topology information.</li>
<li><strong>variorum_print_verbose_gpu_utilization</strong>: Displays GPU utilization details.</li>
</ol>
<p>For more information, visit the <a href="https://variorum.readthedocs.io/en/latest/api/json_support_functions.html">API documentation</a>.</p>
<h1 id="running-variorum-functions">Running Variorum Functions</h1>
<h2 id="step-1-navigate-to-the-example-directory">Step 1: Navigate to the Example Directory</h2>
<p>First, go to the directory where Variorum is installed. Then navigate to the <code>examples</code> directory.</p>
<p>[cadmin@mgmt01] : <strong>/home/cadmin/variorum_demo/variorum/src/examples</strong></p>
<p>( Inside the examples directory, you will find several example programs that demonstrate the usage of Variorum functions.)
<img alt="alt text" src="image.png" /></p>
<h2 id="step-2-compile-the-example-programs">Step 2: Compile the Example Programs</h2>
<p>The next step is to compile the example programs to generate the executable files. <strong>It's important to compile the programs with root access, as Variorum requires access to the Model-Specific Register (MSR) files to gather data</strong>, and only the root user has permission to access these files.</p>
<p>To compile an example program, use the following command:</p>
<p>**gcc -o variorum-get-thermals-json-example variorum-get-thermals-json-example.c \
-I/home/cadmin/variorum_demo/variorum/install/include \
-L/home/cadmin/variorum_demo/variorum/install/lib -lvariorum
** </p>
<p>Explanation of the Command:
gcc: This is the GNU Compiler Collection, used to compile C programs.</p>
<p><strong>-o variorum-get-thermals-json-example</strong>: This option specifies the name of the output executable file.(variorum-get-thermals-json-example).</p>
<p><strong>variorum-get-thermals-json-example.c</strong>: This is the name of the C source file that you're compiling.</p>
<p><strong>-I/home/cadmin/variorum_demo/variorum/install/include</strong>: This flag tells the compiler where to find the header files for Variorum.</p>
<p><strong>-L/home/cadmin/variorum_demo/variorum/install/lib</strong>: This flag tells the compiler where to find the library files for Variorum.</p>
<p><strong>-lvariorum</strong>: This links the libvariorum library to the compiled program.</p>
<h2 id="step-3-set-the-library-path">Step 3: Set the Library Path</h2>
<p>Before running the compiled executable, you need to set the LD_LIBRARY_PATH environment variable to include the directory where the Variorum library is installed. This ensures that the system can locate the necessary library files when the program is executed.</p>
<p><strong>Run the following command to export the library path:</strong></p>
<p><strong>export LD_LIBRARY_PATH=/home/cadmin/variorum_demo/variorum/install/lib:$LD_LIBRARY_PATH</strong></p>
<p>Why This is Needed:
The LD_LIBRARY_PATH environment variable is used by the dynamic linker to locate shared libraries at runtime. By adding the Variorum library path to this variable, you ensure that the system can find and load the Variorum libraries needed by the executable.</p>
<h2 id="step-4-run-the-executable">Step 4: Run the Executable</h2>
<p>Once you've compiled the program and set the LD_LIBRARY_PATH, you can run the executable as follows:</p>
<p><strong>./variorum-get-thermals-json-example</strong></p>
<p><img alt="alt text" src="image-1.png" />
<img alt="alt text" src="image-2.png" /></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = ".",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="js/base.js"></script>
        <script src="search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>

<!--
MkDocs version : 1.6.0
Build Date UTC : 2024-10-08 10:49:59.778336+00:00
-->
